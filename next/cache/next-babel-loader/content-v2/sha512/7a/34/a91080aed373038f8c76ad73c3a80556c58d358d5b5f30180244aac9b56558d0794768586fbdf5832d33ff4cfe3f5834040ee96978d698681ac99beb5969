{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/rational/u00/repositorios/REACT-REPO/MSSR-NEXT-JS/pages/payment/order/[categoria]/[duracion].js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*!\n=========================================================\n* Proyecto: mssr-pays-integration\n* Componente : CheckoutBuy\n* Autor : José silva (RationalIT)\n* Versión : 1.0.0\n=========================================================\n*/\nimport React, { Component } from \"react\"; //Componente Boton de pago paypal\n\nimport Paypal from \"../../../../src/components/checkoutBuy/Paypal/paypal\";\nimport TransbankPay from \"../../../../src/components/checkoutBuy/Transbank/TransbankPay\"; // reactstrap components\n\nimport { Card, CardBody, Form, Container, Row, Table, Col } from \"reactstrap\";\n/*!=======================================================\n  * Nombre: Shopping\n  * Descripción: Carga la informacion del carrito de compras\n  =========================================================*/\n\nclass Shopping extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      products: [],\n      detail: [],\n      dataphone: [],\n      exchanges: \"\",\n      categoria: \"\",\n      duracion: \"\",\n      paymentTabs: 1,\n      discountFocus: undefined,\n      precio: 0,\n      subTotal: 0,\n      descuento: \"0%\",\n      total: 0,\n      method: \"\"\n    };\n    this.getProductsLS = this.getProductsLS.bind(this, props);\n  }\n\n  static getInitialProps({\n    query: {\n      categoria,\n      duracion\n    }\n  }) {\n    return {\n      categoria: categoria,\n      duracion: duracion\n    };\n  }\n  /*!=======================================================\n  * Nombre: componentDidMount\n  * Descripción: Se ejecuta antes del render\n  =========================================================*/\n\n\n  componentDidMount(props) {\n    this.getProductsLS();\n  }\n  /*!=======================================================\n  * Nombre:  getProductsLS\n  * Descripción: \n  =========================================================*/\n\n\n  getProductsLS(props) {\n    console.log('getProductsLS:', props); //this.setState({ categoria: props.categoria, duracion: props.duracion });\n\n    let cat = props.categoria;\n    let duracion = props.duracion;\n\n    if (global.orden && global.method == \"transbank\") {\n      let orden = global.orden;\n      let transaction = {};\n      transaction['r_cod'] = orden.r_cod;\n      transaction['r_dte'] = orden.r_dte;\n      transaction['r_trx'] = orden.r_trx;\n      global.transaction = transaction;\n    }\n\n    if (!global.orden && !global.method) {\n      props.history.replace(`/checkout/${cat}/${duracion}`);\n    }\n\n    this.setState({\n      categoria: cat,\n      duracion: duracion\n    });\n    const products = localStorage.getItem('table');\n    const detail = JSON.parse(localStorage.getItem('detail'));\n    this.setState({\n      products: JSON.parse(products),\n      detail: detail,\n      subTotal: detail.amt,\n      //descuento: detail.save,\n      total: detail.amt,\n      precio: detail.amt,\n      method: detail.method\n    });\n  }\n\n  render() {\n    let dataTable = [];\n    let pago = [];\n    let estado = this.state;\n    let detail = {};\n    const method = [];\n\n    if (this.state.method == \"transbank\") {\n      method.push( /*#__PURE__*/_jsxDEV(TransbankPay, _objectSpread({\n        state: this.state\n      }, this.props), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 19\n      }, this));\n    } else {\n      method.push( /*#__PURE__*/_jsxDEV(Paypal, _objectSpread({\n        state: this.state\n      }, this.props), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 19\n      }, this));\n    }\n\n    this.state.products.forEach(data => {\n      for (let dia in data.price) {\n        if (dia !== this.state.categoria) continue;\n        detail = data.price[dia];\n      }\n\n      const applyDiscount = e => {//console.log('applyDiscount e', e);\n      };\n\n      pago.push( /*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(CardBody, {\n          children: [/*#__PURE__*/_jsxDEV(\"hr\", {\n            className: \"line-warning mb-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this), method]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this));\n      let img_cat = estado.categoria.toLowerCase();\n      dataTable.push( /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"td-name fc-val\",\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"fc-val\",\n              children: [\"Categoria \", data.product]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"mr-auto img-container\",\n              children: [this.state.duracion, \"ia/s\", /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"w-50\",\n                alt: \"...\",\n                src: require(`assets/img/cat_${img_cat}.png`).default\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"td-number\",\n            children: [/*#__PURE__*/_jsxDEV(\"small\", {\n              children: data.currency\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this), estado.precio]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"td-number\",\n            children: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"td-number\",\n            children: [/*#__PURE__*/_jsxDEV(\"small\", {\n              children: data.currency\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 15\n            }, this), estado.precio]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"td-total\",\n            children: \"Total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"td-price\",\n            children: [/*#__PURE__*/_jsxDEV(\"small\", {\n              children: [data.currency, \"/ \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 15\n            }, this), estado.precio]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this));\n    });\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section checkout-page\",\n        children: /*#__PURE__*/_jsxDEV(Container, {\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              lg: \"8\",\n              children: /*#__PURE__*/_jsxDEV(Form, {\n                className: \"js-validate\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"title mb-0\",\n                  children: \"Resumen de compra\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"cd-section\",\n                  id: \"contentAreas\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    id: \"tables\",\n                    children: /*#__PURE__*/_jsxDEV(Row, {\n                      children: /*#__PURE__*/_jsxDEV(Col, {\n                        md: \"12\",\n                        children: /*#__PURE__*/_jsxDEV(Card, {\n                          className: \"card-plain\",\n                          children: /*#__PURE__*/_jsxDEV(CardBody, {\n                            children: /*#__PURE__*/_jsxDEV(Table, {\n                              className: \"tablesorter table-shopping\",\n                              responsive: true,\n                              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                                    children: \"Producto\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 202,\n                                    columnNumber: 39\n                                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                                    className: \"text-right\",\n                                    children: \"Precio\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 203,\n                                    columnNumber: 39\n                                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                                    className: \"text-right\",\n                                    children: \"Qty\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 204,\n                                    columnNumber: 39\n                                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                                    className: \"text-right\",\n                                    children: \"Monto\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 205,\n                                    columnNumber: 39\n                                  }, this)]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 201,\n                                  columnNumber: 37\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 200,\n                                columnNumber: 35\n                              }, this), dataTable]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 199,\n                              columnNumber: 33\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 198,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 197,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 196,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 195,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 194,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              lg: \"4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"title\",\n                children: \"Medio de Pago\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, this), pago]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n\n}","map":{"version":3,"sources":["/Users/rational/u00/repositorios/REACT-REPO/MSSR-NEXT-JS/pages/payment/order/[categoria]/[duracion].js"],"names":["React","Component","Paypal","TransbankPay","Card","CardBody","Form","Container","Row","Table","Col","Shopping","constructor","props","state","products","detail","dataphone","exchanges","categoria","duracion","paymentTabs","discountFocus","undefined","precio","subTotal","descuento","total","method","getProductsLS","bind","getInitialProps","query","componentDidMount","console","log","cat","global","orden","transaction","r_cod","r_dte","r_trx","history","replace","setState","localStorage","getItem","JSON","parse","amt","render","dataTable","pago","estado","push","forEach","data","dia","price","applyDiscount","e","img_cat","toLowerCase","product","require","default","currency"],"mappings":"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","sourcesContent":["/*!\n=========================================================\n* Proyecto: mssr-pays-integration\n* Componente : CheckoutBuy\n* Autor : José silva (RationalIT)\n* Versión : 1.0.0\n=========================================================\n*/\n\nimport React, { Component } from \"react\";\n//Componente Boton de pago paypal\nimport Paypal from \"../../../../src/components/checkoutBuy/Paypal/paypal\";\nimport TransbankPay from \"../../../../src/components/checkoutBuy/Transbank/TransbankPay\";\n// reactstrap components\nimport {\n  Card,\n  CardBody,\n  Form,\n  Container,\n  Row,\n  Table,\n  Col,\n} from \"reactstrap\";\n\n\n/*!=======================================================\n  * Nombre: Shopping\n  * Descripción: Carga la informacion del carrito de compras\n  =========================================================*/\nclass Shopping extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      products: [],\n      detail: [],\n      dataphone: [],\n      exchanges: \"\",\n      categoria: \"\",\n      duracion: \"\",\n      paymentTabs: 1,\n      discountFocus: undefined,\n      precio: 0,\n      subTotal: 0,\n      descuento: \"0%\",\n      total: 0,\n      method: \"\",\n    }\n    this.getProductsLS = this.getProductsLS.bind(this, props);\n  }\n\n  static getInitialProps({ query: { categoria, duracion } }) {\n    return { categoria: categoria, duracion: duracion }\n}\n\n\n  /*!=======================================================\n  * Nombre: componentDidMount\n  * Descripción: Se ejecuta antes del render\n  =========================================================*/\n  componentDidMount(props) {\n    this.getProductsLS();\n  }\n\n  /*!=======================================================\n  * Nombre:  getProductsLS\n  * Descripción: \n  =========================================================*/\n  getProductsLS(props) {\n\n   console.log('getProductsLS:', props);\n //this.setState({ categoria: props.categoria, duracion: props.duracion });\n\n    let cat = props.categoria;\n    let duracion = props.duracion;\n\n    if (global.orden && global.method == \"transbank\") {\n      let orden = global.orden;\n      let transaction = {}\n      transaction['r_cod'] = orden.r_cod;\n      transaction['r_dte'] = orden.r_dte;\n      transaction['r_trx'] = orden.r_trx;\n      global.transaction = transaction;\n    }   \n    if (!global.orden && !global.method) {\n      props.history.replace(`/checkout/${cat}/${duracion}`);\n    }\n\n    this.setState({\n      categoria: cat,\n      duracion: duracion,\n    });\n\n    const products = localStorage.getItem('table');\n    const detail = JSON.parse(localStorage.getItem('detail'));\n    this.setState({\n      products: JSON.parse(products),\n      detail: detail,\n      subTotal: detail.amt,\n      //descuento: detail.save,\n      total: detail.amt,\n      precio: detail.amt,\n      method: detail.method\n    });\n  }\n\n\n  render() {\n    let dataTable = [];\n    let pago = [];\n    let estado = this.state;\n    let detail = {};\n    const method = [];\n    if (this.state.method == \"transbank\") {\n      method.push(<TransbankPay state={this.state} {...this.props} />);\n    } else {\n      method.push(<Paypal state={this.state} {...this.props} />);\n    }\n\n    this.state.products.forEach((data) => {\n      for (let dia in data.price) {\n        if (dia !== this.state.categoria) continue;\n        detail = data.price[dia];\n      }\n\n      const applyDiscount = (e) => {\n        //console.log('applyDiscount e', e);\n      }\n\n      pago.push(\n        <Card>\n          <CardBody>\n            <hr className=\"line-warning mb-3\" />\n            {/* Inicio componente paypal */}\n            {method}\n            {/* Fin componente paypal */}\n          </CardBody>\n        </Card>\n\n      );\n      let img_cat = estado.categoria.toLowerCase();\n      dataTable.push(\n        <tbody>\n          <tr>\n            <td className=\"td-name fc-val\">\n              <a className=\"fc-val\">\n                Categoria {data.product}\n              </a>\n              <br />\n          \n              <small className=\"mr-auto img-container\">{this.state.duracion}ia/s \n                                <img className=\"w-50\"\n                                  alt=\"...\"\n                                  src={require(`assets/img/cat_${img_cat}.png`).default}\n                                />\n              </small>\n            </td>\n            <td className=\"td-number\">\n              <small>{data.currency}</small>\n              {estado.precio}\n            </td>\n            <td className=\"td-number\">\n              1\n                </td>\n            <td className=\"td-number\">\n              <small>{data.currency}</small>\n              {estado.precio}\n            </td>\n          </tr>\n          <tr>\n            <td colSpan=\"2\" />\n            <td className=\"td-total\">Total</td>\n            <td className=\"td-price\">\n              <small>{data.currency}/ </small>\n              {estado.precio}\n            </td>\n          </tr>\n        </tbody>\n      );\n    })\n\n\n\n    return (\n      <>\n        <div className=\"section checkout-page\">\n          <Container>\n            <Row>\n              <Col lg=\"8\">\n                <Form className=\"js-validate\">\n              \n                    <h3 className=\"title mb-0\">Resumen de compra</h3>\n                    <div className=\"cd-section\" id=\"contentAreas\">\n                      {/* tables */}\n                      <div id=\"tables\">\n                        <Row>\n                          <Col md=\"12\">\n                            <Card className=\"card-plain\">\n                              <CardBody>\n                                <Table className=\"tablesorter table-shopping\" responsive>\n                                  <thead>\n                                    <tr>\n                                      <th>Producto</th>\n                                      <th className=\"text-right\">Precio</th>\n                                      <th className=\"text-right\">Qty</th>\n                                      <th className=\"text-right\">Monto</th>\n                                    </tr>\n                                  </thead>\n                                  {dataTable}\n                                </Table>\n                              </CardBody>\n                            </Card>\n                          </Col>\n                        </Row>\n                      </div>\n                      {/* end tables */}\n                    </div>\n                 \n                </Form>\n              </Col>\n              <Col lg=\"4\">\n                <h2 className=\"title\">Medio de Pago</h2>\n                {/* Inicio boton pago */}\n                {pago}\n                {/* Fin boton pago */}\n              </Col>\n            </Row>\n          </Container>\n        </div>\n      </>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}