{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from \"react\";\nimport environment from '../../../src//environments/environments';\nimport { withRouter } from 'next/router'; // reactstrap components\n\nimport { Button, Card, CardBody, CardTitle, CardFooter, Col } from \"reactstrap\";\n\nclass Transfer extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"API_URI\", environment.apiUrlAws);\n\n    _defineProperty(this, \"component\", \"\");\n\n    this.state = {\n      \"rut\": \"\",\n      \"tipoCuenta\": \"\",\n      \"cat\": \"\",\n      \"config\": \"\",\n      \"email\": \"\",\n      \"titular\": \"\",\n      \"nroCuenta\": \"\",\n      \"banco\": \"\",\n      \"monto\": 0,\n      \"currency\": \"\"\n    };\n    this.getBank = this.getBank.bind(this);\n  }\n  /*!=======================================================\n  * Nombre: componentDidMount\n  * Descripción: Se ejecuta antes del render\n  =========================================================*/\n\n\n  componentDidMount(props) {\n    this.getBank();\n  }\n  /*!=======================================================\n  * Nombre: getBank()\n  * Descripción: Obtiene los datos de la cuenta bancaria.\n  =========================================================*/\n\n\n  async getBank() {\n    const detalle = JSON.parse(localStorage.getItem('detail'));\n    const producto = JSON.parse(localStorage.getItem('table'));\n    producto.forEach(data => {\n      this.setState({\n        monto: detalle.amt,\n        currency: data.currency\n      });\n    });\n    const body = await fetch(`${this.API_URI}/checkout/bank`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json, text/plain, */*'\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      let body = {};\n\n      if (data.statusCode === \"200\") {\n        body = data.body;\n        return body;\n      } else {\n        return body;\n      }\n    }).catch(err => console.log('#Error#', err));\n\n    if (body) {\n      this.setState({\n        rut: body.rut,\n        tipoCuenta: body.tipoCuenta,\n        cat: body.cat,\n        config: body.config,\n        email: body.email,\n        titular: body.titular,\n        nroCuenta: body.nroCuenta,\n        banco: body.banco\n      });\n    }\n  }\n\n  render() {\n    if (this.state.rut) {\n      this.component = /*#__PURE__*/_jsxs(Card, {\n        className: \"card-profile profile-bg \",\n        children: [/*#__PURE__*/_jsxs(CardBody, {\n          children: [/*#__PURE__*/_jsx(CardTitle, {\n            className: \"title\",\n            tag: \"h1\",\n            children: \"Transferencia\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: \"h4 my-0\",\n            children: this.state.banco\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            className: \"h4 my-0\",\n            children: [\"A Nombre de: \", this.state.titular]\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            className: \"h4 my-0\",\n            children: [this.state.tipoCuenta, \" \", this.state.nroCuenta]\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            className: \"h4 my-0\",\n            children: [\"Rut: \", this.state.rut]\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: \"h4 my-0\",\n            children: \"Valor a transferir\"\n          }), /*#__PURE__*/_jsxs(\"h1\", {\n            className: \"h2\",\n            children: [this.state.currency, \" \", this.state.monto]\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            className: \"h4\",\n            children: [\"Incluye en el mensaje de la transferencia el nro telefonico o envianos el comprobante a \", this.state.email]\n          })]\n        }), /*#__PURE__*/_jsx(CardFooter, {\n          className: \"d-print-none\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"follow float-center\",\n            children: /*#__PURE__*/_jsxs(Button, {\n              className: \"btn-simple\",\n              color: \"primary\",\n              type: \"button\",\n              size: \"sm\",\n              href: `/`,\n              children: [\"Cerrar\", /*#__PURE__*/_jsx(\"i\", {\n                className: \"tim-icons icon-minimal-right\"\n              })]\n            })\n          })\n        })]\n      });\n    }\n\n    return /*#__PURE__*/_jsx(_Fragment, {\n      children: /*#__PURE__*/_jsx(\"div\", {\n        id: \"transfer\",\n        children: /*#__PURE__*/_jsx(Col, {\n          className: \"mx-auto ml-auto mr-auto text-transfer\",\n          lg: \"4\",\n          md: \"6\",\n          sm: \"12\",\n          children: this.component\n        })\n      })\n    });\n  }\n\n}\n\nexport default withRouter(Transfer);","map":null,"metadata":{},"sourceType":"module"}