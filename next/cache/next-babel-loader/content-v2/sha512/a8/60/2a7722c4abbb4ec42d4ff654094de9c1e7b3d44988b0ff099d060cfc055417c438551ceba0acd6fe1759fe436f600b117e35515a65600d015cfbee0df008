{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _classCallCheck from \"/Users/rational/u00/repositorios/REACT-REPO/MSSR-NEXT-JS/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/rational/u00/repositorios/REACT-REPO/MSSR-NEXT-JS/node_modules/next/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/rational/u00/repositorios/REACT-REPO/MSSR-NEXT-JS/node_modules/next/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/rational/u00/repositorios/REACT-REPO/MSSR-NEXT-JS/node_modules/next/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/rational/u00/repositorios/REACT-REPO/MSSR-NEXT-JS/node_modules/next/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/rational/u00/repositorios/REACT-REPO/MSSR-NEXT-JS/node_modules/next/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"/Users/rational/u00/repositorios/REACT-REPO/MSSR-NEXT-JS/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport { Button } from \"reactstrap\";\nimport environment from '../../../environments/environments';\n\nvar TransbankPay = /*#__PURE__*/function (_Component) {\n  _inherits(TransbankPay, _Component);\n\n  var _super = _createSuper(TransbankPay);\n\n  function TransbankPay(props) {\n    var _this;\n\n    _classCallCheck(this, TransbankPay);\n\n    _this = _super.call(this, props); //console.log('props--TransbankPay', props);\n\n    _defineProperty(_assertThisInitialized(_this), \"API_URI\", environment.apiUrlAws);\n\n    _defineProperty(_assertThisInitialized(_this), \"pagar\", function (e) {\n      //console.log('this.state ##PAGAR###::', this.state);\n      //Crear Transaction \n      return fetch(\"\".concat(_this.API_URI, \"/payments/webpay/transaction\"), {\n        method: 'POST',\n        body: JSON.stringify(_this.state.transaction),\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        }\n      }).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        if (data.statusCode == \"200\") {\n          var url = data.body.url + \"?token_ws=\" + data.body.token;\n          window.location.href = url;\n        }\n      }).catch(function (err) {\n        return console.log('#Error#', err);\n      });\n    });\n\n    _this.state = {\n      categoria: props.state.categoria,\n      duracion: props.state.duracion,\n      total: props.state.total,\n      transaction: {}\n    };\n    return _this;\n  }\n  /*!=======================================================\n  * Nombre:  componentDidMount\n  * Descripción: \n  =========================================================*/\n\n\n  _createClass(TransbankPay, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount(props) {\n      var transaction = global.transaction;\n      this.setState({\n        transaction: transaction\n      });\n    }\n    /*!=======================================================\n    * Nombre: pagar\n    * Descripción: \n    =========================================================*/\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/_jsxs(\"div\", {\n        id: \"TransbankPay\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"card w-70 d-block mx-auto\",\n          children: /*#__PURE__*/_jsx(\"img\", {\n            className: \"img-tranbk\",\n            alt: \"...\",\n            src: \"/assets/img/payment-image/transbank/logos_tarjetas_webpay_down.png\"\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"mt-3\",\n          children: /*#__PURE__*/_jsxs(Button, {\n            onClick: function onClick(e) {\n              return _this2.pagar(e);\n            },\n            className: \"mr-0 btn-grad w-100\",\n            color: \"primary\",\n            children: [\"PAGAR (CLP \", this.state.total, \")\"]\n          })\n        })]\n      }, 2);\n    }\n  }]);\n\n  return TransbankPay;\n}(Component);\n\nexport default TransbankPay;","map":null,"metadata":{},"sourceType":"module"}