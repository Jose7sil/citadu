{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/rational/u00/repositorios/REACT-REPO/MSSR-NEXT-JS/pages/payment/order/[categoria]/[duracion].js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*!\n=========================================================\n* Proyecto: mssr-pays-integration\n* Componente : CheckoutBuy\n* Autor : José silva (RationalIT)\n* Versión : 1.0.0\n=========================================================\n*/\nimport React, { Component } from \"react\"; //Componente Boton de pago paypal\n\nimport Paypal from \"../../../../src/components/checkoutBuy/Paypal/paypal\";\nimport TransbankPay from \"../../../../src/components/checkoutBuy/Transbank/TransbankPay\"; // reactstrap components\n\nimport { Card, CardBody, Form, Container, Row, Table, Col } from \"reactstrap\";\nimport { withRouter } from 'next/router';\n/*!=======================================================\n  * Nombre: Shopping\n  * Descripción: Carga la informacion del carrito de compras\n  =========================================================*/\n\nclass Shopping extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      products: [],\n      detail: [],\n      dataphone: [],\n      exchanges: \"\",\n      categoria: \"\",\n      duracion: \"\",\n      paymentTabs: 1,\n      discountFocus: undefined,\n      precio: 0,\n      subTotal: 0,\n      descuento: \"0%\",\n      total: 0,\n      method: \"\"\n    };\n    this.getProductsLS = this.getProductsLS.bind(this, props);\n  }\n\n  static getInitialProps({\n    query: {\n      categoria,\n      duracion\n    }\n  }) {\n    return {\n      categoria: categoria,\n      duracion: duracion\n    };\n  }\n  /*!=======================================================\n  * Nombre: componentDidMount\n  * Descripción: Se ejecuta antes del render\n  =========================================================*/\n\n\n  componentDidMount(props) {\n    this.getProductsLS();\n  }\n  /*!=======================================================\n  * Nombre:  getProductsLS\n  * Descripción: \n  =========================================================*/\n\n\n  getProductsLS(props) {\n    let cat = props.categoria;\n    let duracion = props.duracion;\n\n    if (global.orden && global.method == \"transbank\") {\n      let orden = global.orden;\n      let transaction = {};\n      transaction['r_cod'] = orden.r_cod;\n      transaction['r_dte'] = orden.r_dte;\n      transaction['r_trx'] = orden.r_trx;\n      global.transaction = transaction;\n    }\n\n    if (!global.orden && !global.method) {\n      this.props.router.push({\n        pathname: `/checkout/${cat}/${duracion}`\n      });\n    }\n\n    this.setState({\n      categoria: cat,\n      duracion: duracion\n    });\n    const products = localStorage.getItem('table');\n    const detail = JSON.parse(localStorage.getItem('detail'));\n    this.setState({\n      products: JSON.parse(products),\n      detail: detail,\n      subTotal: detail.amt,\n      total: detail.amt,\n      precio: detail.amt,\n      method: detail.method\n    });\n  }\n\n  render() {\n    let dataTable = [];\n    let pago = [];\n    let estado = this.state;\n    let detail = {};\n    let method = \"\";\n\n    if (this.state.method == \"transbank\") {\n      method = /*#__PURE__*/_jsxDEV(TransbankPay, _objectSpread({\n        state: this.state\n      }, this.props), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 23\n      }, this);\n    } else {\n      method = /*#__PURE__*/_jsxDEV(Paypal, _objectSpread({\n        state: this.state\n      }, this.props), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 23\n      }, this);\n    }\n\n    this.state.products.forEach(data => {\n      for (let dia in data.price) {\n        if (dia !== this.state.categoria) continue;\n        detail = data.price[dia];\n      }\n\n      const applyDiscount = e => {//console.log('applyDiscount e', e);\n      };\n\n      pago.push( /*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(CardBody, {\n          children: method\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this)\n      }, \"1\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this));\n      let img_cat = estado.categoria.toLowerCase();\n      dataTable.push( /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"td-name fc-val\",\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"fc-val\",\n              children: [\"Categoria \", data.product]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"mr-auto img-container\",\n              children: [this.state.duracion, \"ia/s\", /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"w-50\",\n                alt: \"...\",\n                src: `/assets/img/planes/cat_${img_cat}.png`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"td-number\",\n            children: [/*#__PURE__*/_jsxDEV(\"small\", {\n              children: data.currency\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 29\n            }, this), estado.precio]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"td-number\",\n            children: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"td-number\",\n            children: [/*#__PURE__*/_jsxDEV(\"small\", {\n              children: data.currency\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 29\n            }, this), estado.precio]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"td-total\",\n            children: \"Total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"td-price\",\n            children: [/*#__PURE__*/_jsxDEV(\"small\", {\n              children: [data.currency, \"/ \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 29\n            }, this), estado.precio]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 21\n        }, this)]\n      }, \"2\", true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }, this));\n    });\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section checkout-page\",\n        children: /*#__PURE__*/_jsxDEV(Container, {\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              lg: \"8\",\n              children: /*#__PURE__*/_jsxDEV(Form, {\n                className: \"js-validate\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"title mb-0\",\n                  children: \"Resumen de compra\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"cd-section\",\n                  id: \"contentAreas\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    id: \"tables\",\n                    children: /*#__PURE__*/_jsxDEV(Row, {\n                      children: /*#__PURE__*/_jsxDEV(Col, {\n                        md: \"12\",\n                        children: /*#__PURE__*/_jsxDEV(Card, {\n                          className: \"card-plain\",\n                          children: /*#__PURE__*/_jsxDEV(CardBody, {\n                            children: /*#__PURE__*/_jsxDEV(Table, {\n                              className: \"tablesorter table-shopping\",\n                              responsive: true,\n                              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                                    children: \"Producto\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 187,\n                                    columnNumber: 73\n                                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                                    className: \"text-right\",\n                                    children: \"Precio\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 188,\n                                    columnNumber: 73\n                                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                                    className: \"text-right\",\n                                    children: \"Qty\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 189,\n                                    columnNumber: 73\n                                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                                    className: \"text-right\",\n                                    children: \"Monto\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 190,\n                                    columnNumber: 73\n                                  }, this)]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 186,\n                                  columnNumber: 69\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 185,\n                                columnNumber: 65\n                              }, this), dataTable]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 184,\n                              columnNumber: 61\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 183,\n                            columnNumber: 57\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 182,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 181,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 180,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              lg: \"4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"title\",\n                children: \"Medio de Pago\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 33\n              }, this), pago]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nexport default withRouter(Shopping);","map":{"version":3,"sources":["/Users/rational/u00/repositorios/REACT-REPO/MSSR-NEXT-JS/pages/payment/order/[categoria]/[duracion].js"],"names":["React","Component","Paypal","TransbankPay","Card","CardBody","Form","Container","Row","Table","Col","withRouter","Shopping","constructor","props","state","products","detail","dataphone","exchanges","categoria","duracion","paymentTabs","discountFocus","undefined","precio","subTotal","descuento","total","method","getProductsLS","bind","getInitialProps","query","componentDidMount","cat","global","orden","transaction","r_cod","r_dte","r_trx","router","push","pathname","setState","localStorage","getItem","JSON","parse","amt","render","dataTable","pago","estado","forEach","data","dia","price","applyDiscount","e","img_cat","toLowerCase","product","currency"],"mappings":"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","sourcesContent":["/*!\n=========================================================\n* Proyecto: mssr-pays-integration\n* Componente : CheckoutBuy\n* Autor : José silva (RationalIT)\n* Versión : 1.0.0\n=========================================================\n*/\n\nimport React, { Component } from \"react\";\n//Componente Boton de pago paypal\nimport Paypal from \"../../../../src/components/checkoutBuy/Paypal/paypal\";\nimport TransbankPay from \"../../../../src/components/checkoutBuy/Transbank/TransbankPay\";\n// reactstrap components\nimport {\n    Card,\n    CardBody,\n    Form,\n    Container,\n    Row,\n    Table,\n    Col,\n} from \"reactstrap\";\nimport { withRouter} from 'next/router'\n\n/*!=======================================================\n  * Nombre: Shopping\n  * Descripción: Carga la informacion del carrito de compras\n  =========================================================*/\nclass Shopping extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            products: [],\n            detail: [],\n            dataphone: [],\n            exchanges: \"\",\n            categoria: \"\",\n            duracion: \"\",\n            paymentTabs: 1,\n            discountFocus: undefined,\n            precio: 0,\n            subTotal: 0,\n            descuento: \"0%\",\n            total: 0,\n            method: \"\",\n        }\n        this.getProductsLS = this.getProductsLS.bind(this, props);\n    }\n\n    static getInitialProps({ query: { categoria, duracion } }) {\n        return { categoria: categoria, duracion: duracion }\n    }\n\n\n    /*!=======================================================\n    * Nombre: componentDidMount\n    * Descripción: Se ejecuta antes del render\n    =========================================================*/\n    componentDidMount(props) {\n        this.getProductsLS();\n    }\n\n    /*!=======================================================\n    * Nombre:  getProductsLS\n    * Descripción: \n    =========================================================*/\n    getProductsLS(props) {\n        let cat = props.categoria;\n        let duracion = props.duracion;\n        if (global.orden && global.method == \"transbank\") {\n            let orden = global.orden;\n            let transaction = {}\n            transaction['r_cod'] = orden.r_cod;\n            transaction['r_dte'] = orden.r_dte;\n            transaction['r_trx'] = orden.r_trx;\n            global.transaction = transaction;\n        }\n        if (!global.orden && !global.method) {\n            this.props.router.push({ pathname: `/checkout/${cat}/${duracion}` });\n        }\n        this.setState({ categoria: cat, duracion: duracion, });\n        const products = localStorage.getItem('table');\n        const detail = JSON.parse(localStorage.getItem('detail'));\n        this.setState({\n            products: JSON.parse(products),\n            detail: detail,\n            subTotal: detail.amt,\n            total: detail.amt,\n            precio: detail.amt,\n            method: detail.method\n        });\n    }\n\n\n    render() {\n        let dataTable = [];\n        let pago = [];\n        let estado = this.state;\n        let detail = {};\n        let method =\"\";\n        if (this.state.method == \"transbank\") {\n            method = (<TransbankPay state={this.state} {...this.props} />);\n        } else {\n            method = (<Paypal state={this.state} {...this.props} />);\n        }\n        this.state.products.forEach((data) => {\n            for (let dia in data.price) {\n                if (dia !== this.state.categoria) continue;\n                detail = data.price[dia];\n            }\n\n            const applyDiscount = (e) => {\n                //console.log('applyDiscount e', e);\n            }\n\n            pago.push(\n                <Card key=\"1\">\n                    <CardBody>\n                        {/* Inicio componente de pago Transbank o Paypal*/}\n                        {method}\n                        {/* Fin componente de pago Transbank o Paypal*/}\n                    </CardBody>\n                </Card>\n            );\n            let img_cat = estado.categoria.toLowerCase();\n            dataTable.push(\n                <tbody key=\"2\">\n                    <tr>\n                        <td className=\"td-name fc-val\">\n                            <a className=\"fc-val\">\n                                Categoria {data.product}\n                            </a>\n                            <br />\n\n                            <small className=\"mr-auto img-container\">{this.state.duracion}ia/s\n                                <img className=\"w-50\"\n                                    alt=\"...\"\n                                    src={`/assets/img/planes/cat_${img_cat}.png`}\n                                />\n                            </small>\n                        </td>\n                        <td className=\"td-number\">\n                            <small>{data.currency}</small>\n                            {estado.precio}\n                        </td>\n                        <td className=\"td-number\">\n                            1\n                        </td>\n                        <td className=\"td-number\">\n                            <small>{data.currency}</small>\n                            {estado.precio}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td colSpan=\"2\" />\n                        <td className=\"td-total\">Total</td>\n                        <td className=\"td-price\">\n                            <small>{data.currency}/ </small>\n                            {estado.precio}\n                        </td>\n                    </tr>\n                </tbody>\n            );\n        })\n\n\n        return (\n            <>\n                <div className=\"section checkout-page\">\n                    <Container>\n                        <Row>\n                            <Col lg=\"8\">\n                                <Form className=\"js-validate\">\n\n                                    <h3 className=\"title mb-0\">Resumen de compra</h3>\n                                    <div className=\"cd-section\" id=\"contentAreas\">\n                                        {/* tables */}\n                                        <div id=\"tables\">\n                                            <Row>\n                                                <Col md=\"12\">\n                                                    <Card className=\"card-plain\">\n                                                        <CardBody>\n                                                            <Table className=\"tablesorter table-shopping\" responsive>\n                                                                <thead>\n                                                                    <tr>\n                                                                        <th>Producto</th>\n                                                                        <th className=\"text-right\">Precio</th>\n                                                                        <th className=\"text-right\">Qty</th>\n                                                                        <th className=\"text-right\">Monto</th>\n                                                                    </tr>\n                                                                </thead>\n                                                                {dataTable}\n                                                            </Table>\n                                                        </CardBody>\n                                                    </Card>\n                                                </Col>\n                                            </Row>\n                                        </div>\n                                        {/* end tables */}\n                                    </div>\n\n                                </Form>\n                            </Col>\n                            <Col lg=\"4\">\n                                <h2 className=\"title\">Medio de Pago</h2>\n                                {/* Inicio boton pago */}\n                                {pago}\n                                {/* Fin boton pago */}\n                            </Col>\n                        </Row>\n                    </Container>\n                </div>\n            </>\n        )\n    }\n}\n\nexport default withRouter(Shopping);\n"]},"metadata":{},"sourceType":"module"}