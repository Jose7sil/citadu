{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/rational/u00/repositorios/REACT-REPO/MSSR-NEXT-JS/pages/transfer/[categoria]/[duracion].js\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from \"react\";\nimport environment from '../../../src//environments/environments';\nimport { withRouter } from 'next/router'; // reactstrap components\n\nimport { Button, Card, CardBody, CardTitle, CardFooter, Col } from \"reactstrap\";\n\nclass Transfer extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"API_URI\", environment.apiUrlAws);\n\n    _defineProperty(this, \"component\", \"\");\n\n    this.state = {\n      \"rut\": \"\",\n      \"tipoCuenta\": \"\",\n      \"cat\": \"\",\n      \"config\": \"\",\n      \"email\": \"\",\n      \"titular\": \"\",\n      \"nroCuenta\": \"\",\n      \"banco\": \"\",\n      \"monto\": 0,\n      \"currency\": \"\"\n    };\n    this.getBank = this.getBank.bind(this);\n  }\n  /*!=======================================================\n  * Nombre: componentDidMount\n  * Descripción: Se ejecuta antes del render\n  =========================================================*/\n\n\n  componentDidMount(props) {\n    this.getBank();\n  }\n  /*!=======================================================\n  * Nombre: getBank()\n  * Descripción: Obtiene los datos de la cuenta bancaria.\n  =========================================================*/\n\n\n  async getBank() {\n    const detalle = JSON.parse(localStorage.getItem('detail'));\n    const producto = JSON.parse(localStorage.getItem('table'));\n    producto.forEach(data => {\n      this.setState({\n        monto: detalle.amt,\n        currency: data.currency\n      });\n    });\n    const body = await fetch(`${this.API_URI}/checkout/bank`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json, text/plain, */*'\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      let body = {};\n\n      if (data.statusCode === \"200\") {\n        body = data.body;\n        return body;\n      } else {\n        return body;\n      }\n    }).catch(err => console.log('#Error#', err));\n\n    if (body) {\n      this.setState({\n        rut: body.rut,\n        tipoCuenta: body.tipoCuenta,\n        cat: body.cat,\n        config: body.config,\n        email: body.email,\n        titular: body.titular,\n        nroCuenta: body.nroCuenta,\n        banco: body.banco\n      });\n    }\n  }\n\n  render() {\n    if (this.state.rut) {\n      this.component = /*#__PURE__*/_jsxDEV(Card, {\n        className: \"card-profile profile-bg \",\n        children: [/*#__PURE__*/_jsxDEV(CardBody, {\n          children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n            className: \"title\",\n            tag: \"h1\",\n            children: \"Transferencia\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"h4 my-0\",\n            children: this.state.banco\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"h4 my-0\",\n            children: [\"A Nombre de: \", this.state.titular]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"h4 my-0\",\n            children: [this.state.tipoCuenta, \" \", this.state.nroCuenta]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"h4 my-0\",\n            children: [\"Rut: \", this.state.rut]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"h4 my-0\",\n            children: \"Valor a transferir\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"h2\",\n            children: [this.state.currency, \" \", this.state.monto]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"h4\",\n            children: [\"Incluye en el mensaje de la transferencia el nro telefonico o envianos el comprobante a \", this.state.email]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(CardFooter, {\n          className: \"d-print-none\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"follow float-center\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              className: \"btn-simple\",\n              color: \"primary\",\n              type: \"button\",\n              size: \"sm\",\n              href: `/`,\n              children: [\"Cerrar\", /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"tim-icons icon-minimal-right\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 31\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"transfer\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          className: \"mx-auto ml-auto mr-auto text-transfer\",\n          lg: \"4\",\n          md: \"6\",\n          sm: \"12\",\n          children: this.component\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nexport default withRouter(Transfer);","map":{"version":3,"sources":["/Users/rational/u00/repositorios/REACT-REPO/MSSR-NEXT-JS/pages/transfer/[categoria]/[duracion].js"],"names":["React","Component","environment","withRouter","Button","Card","CardBody","CardTitle","CardFooter","Col","Transfer","constructor","props","apiUrlAws","state","getBank","bind","componentDidMount","detalle","JSON","parse","localStorage","getItem","producto","forEach","data","setState","monto","amt","currency","body","fetch","API_URI","method","headers","then","res","json","statusCode","catch","err","console","log","rut","tipoCuenta","cat","config","email","titular","nroCuenta","banco","render","component"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport environment from '../../../src//environments/environments';\nimport { withRouter } from 'next/router'\n// reactstrap components\nimport {\n    Button,\n    Card,\n    CardBody,\n    CardTitle,\n    CardFooter,\n    Col,\n} from \"reactstrap\";\n\nclass Transfer extends Component {\n    API_URI = environment.apiUrlAws;\n    component = \"\";\n    constructor(props) {\n        super(props);\n        this.state = {\n            \"rut\": \"\",\n            \"tipoCuenta\": \"\",\n            \"cat\": \"\",\n            \"config\": \"\",\n            \"email\": \"\",\n            \"titular\": \"\",\n            \"nroCuenta\": \"\",\n            \"banco\": \"\",\n            \"monto\": 0,\n            \"currency\": \"\"\n        };\n        this.getBank = this.getBank.bind(this);\n    }\n\n    /*!=======================================================\n    * Nombre: componentDidMount\n    * Descripción: Se ejecuta antes del render\n    =========================================================*/\n    componentDidMount(props) {\n        this.getBank();\n    }\n\n    /*!=======================================================\n    * Nombre: getBank()\n    * Descripción: Obtiene los datos de la cuenta bancaria.\n    =========================================================*/\n    async getBank() {\n        const detalle = JSON.parse(localStorage.getItem('detail'));\n        const producto = JSON.parse(localStorage.getItem('table'));\n        producto.forEach(data => {\n            this.setState({monto: detalle.amt, currency: data.currency})\n        })\n        const body = await fetch(`${this.API_URI}/checkout/bank`, {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json, text/plain, */*',\n            }\n        }).then(function (res) {\n            return res.json();\n        }).then(function (data) {\n            let body = {};\n            if (data.statusCode === \"200\") {\n                body = data.body;\n                return body;\n            } else {\n                return body;\n            }\n        }).catch(err => console.log('#Error#', err))\n\n        if (body) {\n            this.setState({\n                rut: body.rut,\n                tipoCuenta: body.tipoCuenta,\n                cat: body.cat,\n                config: body.config,\n                email: body.email,\n                titular: body.titular,\n                nroCuenta: body.nroCuenta,\n                banco: body.banco\n            })\n        }\n    }\n\n    render() {\n        if (this.state.rut) {\n            this.component = (<Card className=\"card-profile profile-bg \">\n                <CardBody>\n                    <CardTitle className=\"title\" tag=\"h1\">Transferencia</CardTitle>\n                    <p className=\"h4 my-0\">{this.state.banco}</p>\n                    <p className=\"h4 my-0\">A Nombre de: {this.state.titular}</p>\n                    <p className=\"h4 my-0\">{this.state.tipoCuenta} {this.state.nroCuenta}</p>\n                    <p className=\"h4 my-0\">Rut: {this.state.rut}</p>\n                    <p className=\"h4 my-0\">Valor a transferir</p>\n                    <h1 className=\"h2\">{this.state.currency} {this.state.monto}</h1>\n                    <p className=\"h4\">Incluye en el mensaje de la transferencia el nro telefonico o envianos el comprobante a {this.state.email}</p>\n                </CardBody>\n                <CardFooter className=\"d-print-none\">\n                    <div className=\"follow float-center\">\n                        <Button\n                            className=\"btn-simple\"\n                            color=\"primary\"\n                            type=\"button\"\n                            size=\"sm\"\n                            href={`/`}\n                        >\n                            Cerrar\n                    <i className=\"tim-icons icon-minimal-right\" />\n                        </Button>\n                    </div>\n                </CardFooter>\n            </Card>);\n        }\n\n        return (\n            <>\n                <div id=\"transfer\">\n                    <Col className=\"mx-auto ml-auto mr-auto text-transfer\" lg=\"4\" md=\"6\" sm=\"12\">\n                        {this.component}\n                    </Col>\n                </div>\n            </>\n        );\n    }\n}\n\nexport default withRouter(Transfer);"]},"metadata":{},"sourceType":"module"}