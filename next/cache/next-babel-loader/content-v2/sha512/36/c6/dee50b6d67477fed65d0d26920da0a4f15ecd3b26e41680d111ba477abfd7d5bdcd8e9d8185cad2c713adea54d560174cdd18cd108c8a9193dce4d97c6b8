{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"/Users/rational/u00/repositorios/REACT-REPO/MSSR-NEXT-JS/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/rational/u00/repositorios/REACT-REPO/MSSR-NEXT-JS/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/rational/u00/repositorios/REACT-REPO/MSSR-NEXT-JS/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/rational/u00/repositorios/REACT-REPO/MSSR-NEXT-JS/node_modules/next/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/rational/u00/repositorios/REACT-REPO/MSSR-NEXT-JS/node_modules/next/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/rational/u00/repositorios/REACT-REPO/MSSR-NEXT-JS/node_modules/next/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/rational/u00/repositorios/REACT-REPO/MSSR-NEXT-JS/node_modules/next/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/rational/u00/repositorios/REACT-REPO/MSSR-NEXT-JS/node_modules/next/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"/Users/rational/u00/repositorios/REACT-REPO/MSSR-NEXT-JS/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport environment from '../../../src//environments/environments';\nimport { withRouter } from 'next/router'; // reactstrap components\n\nimport { Button, Card, CardBody, CardTitle, CardFooter, Col } from \"reactstrap\";\n\nvar Transfer = /*#__PURE__*/function (_Component) {\n  _inherits(Transfer, _Component);\n\n  var _super = _createSuper(Transfer);\n\n  function Transfer(props) {\n    var _this;\n\n    _classCallCheck(this, Transfer);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"API_URI\", environment.apiUrlAws);\n\n    _defineProperty(_assertThisInitialized(_this), \"component\", \"\");\n\n    _this.state = {\n      \"rut\": \"\",\n      \"tipoCuenta\": \"\",\n      \"cat\": \"\",\n      \"config\": \"\",\n      \"email\": \"\",\n      \"titular\": \"\",\n      \"nroCuenta\": \"\",\n      \"banco\": \"\",\n      \"monto\": 0,\n      \"currency\": \"\"\n    };\n    _this.getBank = _this.getBank.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /*!=======================================================\n  * Nombre: componentDidMount\n  * Descripción: Se ejecuta antes del render\n  =========================================================*/\n\n\n  _createClass(Transfer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount(props) {\n      this.getBank();\n    }\n    /*!=======================================================\n    * Nombre: getBank()\n    * Descripción: Obtiene los datos de la cuenta bancaria.\n    =========================================================*/\n\n  }, {\n    key: \"getBank\",\n    value: function () {\n      var _getBank = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        var detalle, producto, body;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                detalle = JSON.parse(localStorage.getItem('detail'));\n                producto = JSON.parse(localStorage.getItem('table'));\n                producto.forEach(function (data) {\n                  _this2.setState({\n                    monto: detalle.amt,\n                    currency: data.currency\n                  });\n                });\n                _context.next = 5;\n                return fetch(\"\".concat(this.API_URI, \"/checkout/bank\"), {\n                  method: 'GET',\n                  headers: {\n                    'Content-Type': 'application/json',\n                    'Accept': 'application/json, text/plain, */*'\n                  }\n                }).then(function (res) {\n                  return res.json();\n                }).then(function (data) {\n                  var body = {};\n\n                  if (data.statusCode === \"200\") {\n                    body = data.body;\n                    return body;\n                  } else {\n                    return body;\n                  }\n                }).catch(function (err) {\n                  return console.log('#Error#', err);\n                });\n\n              case 5:\n                body = _context.sent;\n\n                if (body) {\n                  this.setState({\n                    rut: body.rut,\n                    tipoCuenta: body.tipoCuenta,\n                    cat: body.cat,\n                    config: body.config,\n                    email: body.email,\n                    titular: body.titular,\n                    nroCuenta: body.nroCuenta,\n                    banco: body.banco\n                  });\n                }\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getBank() {\n        return _getBank.apply(this, arguments);\n      }\n\n      return getBank;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.rut) {\n        this.component = /*#__PURE__*/_jsxs(Card, {\n          className: \"card-profile profile-bg \",\n          children: [/*#__PURE__*/_jsxs(CardBody, {\n            children: [/*#__PURE__*/_jsx(CardTitle, {\n              className: \"title\",\n              tag: \"h1\",\n              children: \"Transferencia\"\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: \"h4 my-0\",\n              children: this.state.banco\n            }), /*#__PURE__*/_jsxs(\"p\", {\n              className: \"h4 my-0\",\n              children: [\"A Nombre de: \", this.state.titular]\n            }), /*#__PURE__*/_jsxs(\"p\", {\n              className: \"h4 my-0\",\n              children: [this.state.tipoCuenta, \" \", this.state.nroCuenta]\n            }), /*#__PURE__*/_jsxs(\"p\", {\n              className: \"h4 my-0\",\n              children: [\"Rut: \", this.state.rut]\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: \"h4 my-0\",\n              children: \"Valor a transferir\"\n            }), /*#__PURE__*/_jsxs(\"h1\", {\n              className: \"h2\",\n              children: [this.state.currency, \" \", this.state.monto]\n            }), /*#__PURE__*/_jsxs(\"p\", {\n              className: \"h4\",\n              children: [\"Incluye en el mensaje de la transferencia el nro telefonico o envianos el comprobante a \", this.state.email]\n            })]\n          }), /*#__PURE__*/_jsx(CardFooter, {\n            className: \"d-print-none\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"follow float-center\",\n              children: /*#__PURE__*/_jsxs(Button, {\n                className: \"btn-simple\",\n                color: \"primary\",\n                type: \"button\",\n                size: \"sm\",\n                href: \"/\",\n                children: [\"Cerrar\", /*#__PURE__*/_jsx(\"i\", {\n                  className: \"tim-icons icon-minimal-right\"\n                })]\n              })\n            })\n          })]\n        });\n      }\n\n      return /*#__PURE__*/_jsx(_Fragment, {\n        children: /*#__PURE__*/_jsx(\"div\", {\n          id: \"transfer\",\n          children: /*#__PURE__*/_jsx(Col, {\n            className: \"mx-auto ml-auto mr-auto text-transfer\",\n            lg: \"4\",\n            md: \"6\",\n            sm: \"12\",\n            children: this.component\n          })\n        })\n      });\n    }\n  }]);\n\n  return Transfer;\n}(Component);\n\nexport default withRouter(Transfer);","map":null,"metadata":{},"sourceType":"module"}