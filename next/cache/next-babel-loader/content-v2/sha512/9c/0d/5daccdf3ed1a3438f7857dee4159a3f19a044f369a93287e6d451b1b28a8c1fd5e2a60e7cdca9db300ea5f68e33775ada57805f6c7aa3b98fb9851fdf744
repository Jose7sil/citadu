{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*!\n=========================================================\n* Proyecto: mssr-pays-integration\n* Componente : GetMemberShip\n* Autor : José silva (RationalIT)\n* Versión : 1.0.0\n=========================================================\n*/\nimport React, { Component } from \"react\";\nimport { withRouter } from 'next/router';\nimport ValidateSubscription from \"../../src/components/memberShip/ValidateSubscription\";\nimport BuySubscription from \"../../src/components/memberShip/BuySubscription\";\nimport environment from '../../src/environments/environments';\nimport * as functions from '../../src/components/shared/functions';\n\nclass MemberShip extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"API_URI_AWS\", environment.apiUrlAws);\n\n    _defineProperty(this, \"xApikey\", environment.xApikey);\n\n    this.state = {\n      dataphone: [],\n      phoneNumber: \"\"\n    }; //console.log('PHONE::constructor', props.router.query.phone);\n    //this.getMemberShip = this.getMemberShip.bind(this);\n  }\n  /*!=======================================================\n  * Nombre: componentDidMount\n  * Descripción: Se ejecuta antes del render\n  =========================================================*/\n\n\n  componentDidMount() {\n    console.log('STATE1::', this.state);\n    fetch(`${this.API_URI_AWS}/integration/mssr/${phone}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json, text/plain, */*',\n        'x-api-key': this.xApikey\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      console.log('DATA:', data);\n      const body = {};\n\n      if (data.statusCode === \"200\") {\n        const rs = functions.b64_to_utf8(data.body.rs);\n        body['id'] = data.body.id;\n        body['rs'] = JSON.parse(rs);\n        return body;\n      } else {\n        body['id'] = \"\";\n        return body;\n      }\n    }).catch(err => console.log('#Error#', err)); //Seteando valores en el State\n\n    this.setState({\n      dataphone: body\n    });\n  }\n  /*!=======================================================\n  * Nombre: getMemberShip\n  * Descripción: Verificando si el phone existe en BD para \n    mostrar informacion\n  =========================================================*/\n\n\n  getMemberShip(phone) {\n    console.log('PHONE: getMemberShip:', phone);\n    this.setState({\n      dataphone: phone\n    });\n    console.log('ss:', this.state);\n  }\n\n  render() {\n    console.log('PHONE render::', this.props);\n    this.props.router.query.phone ? this.getMemberShip(this.props.router.query.phone) : null; //this.setState({phoneNumber: phone,});\n    //console.log('phone:', phone);\n    //console.log('this.state2:', this.state);\n\n    /*if (this.state.dataphone.id) {\n      return (\n        <>\n          <BuySubscription dataphone={this.state.dataphone} />\n        </>\n      )\n    } else {\n      return (\n        <>\n          <ValidateSubscription />\n        </>\n      )\n    }*/\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n  }\n\n}\n\nexport default withRouter(MemberShip);","map":{"version":3,"sources":["/Users/rational/u00/repositorios/REACT-REPO/MSSR-NEXT-JS/pages/getmembership/[phone].js"],"names":["React","Component","withRouter","ValidateSubscription","BuySubscription","environment","functions","MemberShip","constructor","props","apiUrlAws","xApikey","state","dataphone","phoneNumber","componentDidMount","console","log","fetch","API_URI_AWS","phone","method","headers","then","res","json","data","body","statusCode","rs","b64_to_utf8","id","JSON","parse","catch","err","setState","getMemberShip","render","router","query"],"mappings":"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","sourcesContent":["/*!\n=========================================================\n* Proyecto: mssr-pays-integration\n* Componente : GetMemberShip\n* Autor : José silva (RationalIT)\n* Versión : 1.0.0\n=========================================================\n*/\nimport React, { Component } from \"react\";\nimport { withRouter } from 'next/router'\nimport ValidateSubscription from \"../../src/components/memberShip/ValidateSubscription\";\n\nimport BuySubscription from \"../../src/components/memberShip/BuySubscription\"\nimport environment from '../../src/environments/environments';\nimport * as functions from '../../src/components/shared/functions';\n\n\nclass MemberShip extends Component {\n  API_URI_AWS = environment.apiUrlAws;\n  xApikey = environment.xApikey;\n  constructor(props) {\n   \n    super(props);\n    this.state = {\n      dataphone: [],\n      phoneNumber: \"\"\n      \n    };\n    //console.log('PHONE::constructor', props.router.query.phone);\n   //this.getMemberShip = this.getMemberShip.bind(this);\n\n  }\n\n\n\n\n  /*!=======================================================\n  * Nombre: componentDidMount\n  * Descripción: Se ejecuta antes del render\n  =========================================================*/\n  componentDidMount(){\n    console.log('STATE1::', this.state);\n\n    fetch(`${this.API_URI_AWS}/integration/mssr/${phone}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json, text/plain, */*',\n        'x-api-key': this.xApikey\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      console.log('DATA:', data);\n      const body = {};\n      if (data.statusCode === \"200\") {\n        const rs = functions.b64_to_utf8(data.body.rs);\n        body['id'] = data.body.id;\n        body['rs'] = JSON.parse(rs);\n\n        return body;\n      } else {\n        body['id'] = \"\";\n        return body;\n      }\n    }).catch(err => console.log('#Error#', err))\n  //Seteando valores en el State\n  this.setState({\n    dataphone: body,\n  });\n  \n \n    }\n\n\n  /*!=======================================================\n  * Nombre: getMemberShip\n  * Descripción: Verificando si el phone existe en BD para \n    mostrar informacion\n  =========================================================*/\n  getMemberShip(phone) {\n    console.log('PHONE: getMemberShip:', phone);\n    this.setState({\n      dataphone: phone\n    });\n    console.log('ss:', this.state);\n  }\n\n  render() {\n    console.log('PHONE render::', this.props);\n    (this.props.router.query.phone)? this.getMemberShip(this.props.router.query.phone) : null;\n    //this.setState({phoneNumber: phone,});\n    //console.log('phone:', phone);\n    //console.log('this.state2:', this.state);\n\n    /*if (this.state.dataphone.id) {\n      return (\n        <>\n          <BuySubscription dataphone={this.state.dataphone} />\n        </>\n      )\n    } else {\n      return (\n        <>\n          <ValidateSubscription />\n        </>\n      )\n    }*/\n    return (\n      <>\n      </>\n    )\n\n  }\n}\n\nexport default withRouter(MemberShip);\n"]},"metadata":{},"sourceType":"module"}